<!DOCTYPE html>
<html>
<head>
    <title>Reward Functions Comparison</title>
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .plot-container {
            margin: 20px 0;
        }
        .info {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .info h3 {
            margin-top: 0;
            color: #1976d2;
        }
        .info ul {
            margin: 10px 0;
        }
        .description {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .func-card {
            border: 2px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            background-color: #fafafa;
        }
        .func-card h4 {
            margin-top: 0;
            border-bottom: 2px solid;
            padding-bottom: 5px;
        }
        .func-card.l1 h4 { border-color: #1f77b4; color: #1f77b4; }
        .func-card.l2 h4 { border-color: #ff7f0e; color: #ff7f0e; }
        .func-card.laplace h4 { border-color: #2ca02c; color: #2ca02c; }
        .func-card.gaussian h4 { border-color: #d62728; color: #d62728; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Reward Functions Comparison</h1>
        
        <div class="info">
            <h3>Configuration</h3>
            <ul>
                <li><strong>Ground Truth (GT):</strong> 3.0</li>
                <li><strong>Minimum Reward (r_min):</strong> 0.05</li>
                <li><strong>Diff at r_min:</strong> 1.0</li>
                <li><strong>Prediction Range:</strong> [1.0, 5.0]</li>
            </ul>
        </div>

        <div class="plot-container">
            <div id="overlayPlot"></div>
        </div>

        <div class="plot-container">
            <div id="subplots"></div>
        </div>

        <div class="description">
            <div class="func-card l1">
                <h4>L1 (Linear)</h4>
                <p><strong>Formula:</strong> reward = 1 - coeff × |pred - gt|</p>
                <p><strong>Characteristic:</strong> Linear decay with uniform penalty for errors.</p>
            </div>
            
            <div class="func-card l2">
                <h4>L2 (Quadratic)</h4>
                <p><strong>Formula:</strong> reward = 1 - coeff × (pred - gt)²</p>
                <p><strong>Characteristic:</strong> Quadratic decay, gentle for small errors, severe for large ones.</p>
            </div>
            
            <div class="func-card laplace">
                <h4>Laplace</h4>
                <p><strong>Formula:</strong> reward = exp(-d / τ)</p>
                <p><strong>Characteristic:</strong> Exponential decay with heavier tails than Gaussian.</p>
            </div>
            
            <div class="func-card gaussian">
                <h4>Gaussian</h4>
                <p><strong>Formula:</strong> reward = exp(-(d² / (2σ²)))</p>
                <p><strong>Characteristic:</strong> Bell-shaped curve with smooth decay.</p>
            </div>
        </div>
    </div>

    <script>
        // Data
        const predValues = [1.0, 1.020100502512563, 1.0402010050251256, 1.0603015075376885, 1.0804020100502512, 1.100502512562814, 1.120603015075377, 1.1407035175879396, 1.1608040201005025, 1.1809045226130652, 1.2010050251256281, 1.221105527638191, 1.2412060301507537, 1.2613065326633166, 1.2814070351758793, 1.3015075376884422, 1.321608040201005, 1.3417085427135678, 1.3618090452261307, 1.3819095477386933, 1.4020100502512562, 1.4221105527638191, 1.442211055276382, 1.4623115577889447, 1.4824120603015074, 1.5025125628140703, 1.5226130653266332, 1.542713567839196, 1.5628140703517588, 1.5829145728643215, 1.6030150753768844, 1.6231155778894473, 1.6432160804020102, 1.6633165829145728, 1.6834170854271355, 1.7035175879396984, 1.7236180904522613, 1.7437185929648242, 1.763819095477387, 1.7839195979899496, 1.8040201005025125, 1.8241206030150754, 1.8442211055276383, 1.864321608040201, 1.8844221105527639, 1.9045226130653266, 1.9246231155778895, 1.9447236180904524, 1.964824120603015, 1.984924623115578, 2.0050251256281406, 2.0251256281407035, 2.0452261306532664, 2.065326633165829, 2.085427135678392, 2.1055276381909547, 2.1256281407035176, 2.1457286432160805, 2.165829145728643, 2.1859296482412063, 2.2060301507537687, 2.2261306532663316, 2.2462311557788945, 2.266331658291457, 2.2864321608040203, 2.306532663316583, 2.3266331658291457, 2.3467336683417086, 2.366834170854271, 2.3869346733668344, 2.407035175879397, 2.4271356783919598, 2.4472361809045227, 2.467336683417085, 2.4874371859296485, 2.507537688442211, 2.527638190954774, 2.5477386934673367, 2.567839195979899, 2.5879396984924625, 2.608040201005025, 2.628140703517588, 2.648241206030151, 2.6683417085427132, 2.6884422110552766, 2.708542713567839, 2.728643216080402, 2.748743718592965, 2.7688442211055277, 2.7889447236180906, 2.809045226130653, 2.829145728643216, 2.849246231155779, 2.869346733668342, 2.8894472361809047, 2.909547738693467, 2.92964824120603, 2.949748743718593, 2.969849246231156, 2.9899497487437188, 3.0100502512562812, 3.030150753768844, 3.050251256281407, 3.07035175879397, 3.090452261306533, 3.1105527638190953, 3.130653266331658, 3.150753768844221, 3.170854271356784, 3.190954773869347, 3.2110552763819094, 3.2311557788944723, 3.251256281407035, 3.271356783919598, 3.291457286432161, 3.3115577889447234, 3.3316582914572863, 3.351758793969849, 3.371859296482412, 3.391959798994975, 3.4120603015075375, 3.4321608040201004, 3.4522613065326633, 3.472361809045226, 3.492462311557789, 3.512562814070352, 3.5326633165829144, 3.5527638190954773, 3.5728643216080402, 3.592964824120603, 3.613065326633166, 3.6331658291457285, 3.6532663316582914, 3.6733668341708543, 3.693467336683417, 3.71356783919598, 3.7336683417085426, 3.7537688442211055, 3.7738693467336684, 3.7939698492462313, 3.814070351758794, 3.8341708542713566, 3.8542713567839195, 3.8743718592964824, 3.8944723618090453, 3.9145728643216082, 3.9346733668341707, 3.9547738693467336, 3.9748743718592965, 3.9949748743718594, 4.015075376884422, 4.035175879396984, 4.055276381909548, 4.075376884422111, 4.0954773869346734, 4.115577889447236, 4.135678391959798, 4.155778894472362, 4.175879396984925, 4.1959798994974875, 4.21608040201005, 4.236180904522612, 4.256281407035176, 4.276381909547739, 4.296482412060302, 4.316582914572864, 4.3366834170854265, 4.35678391959799, 4.376884422110553, 4.396984924623116, 4.417085427135678, 4.4371859296482405, 4.457286432160804, 4.477386934673367, 4.49748743718593, 4.517587939698492, 4.5376884422110555, 4.557788944723618, 4.577889447236181, 4.597989949748744, 4.618090452261306, 4.63819095477387, 4.658291457286432, 4.678391959798995, 4.698492462311558, 4.71859296482412, 4.738693467336684, 4.758793969849246, 4.778894472361809, 4.798994974874372, 4.819095477386934, 4.839195979899498, 4.85929648241206, 4.8793969849246235, 4.899497487437186, 4.919597989949748, 4.939698492462312, 4.959798994974874, 4.9798994974874375, 5.0];
        const l1Values = [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05477386934673367, 0.0738693467336684, 0.09296482412060314, 0.11206030150753743, 0.1311557788944726, 0.150251256281407, 0.16934673366834174, 0.18844221105527648, 0.20753768844221088, 0.22663316582914605, 0.24572864321608034, 0.2648241206030151, 0.2839195979899498, 0.3030150753768842, 0.3221105527638194, 0.3412060301507537, 0.3603015075376884, 0.37939698492462315, 0.39849246231155755, 0.4175879396984927, 0.436683417085427, 0.45577889447236175, 0.4748743718592966, 0.4939698492462309, 0.5130653266331661, 0.5321608040201005, 0.5512562814070352, 0.5703517587939699, 0.5894472361809042, 0.6085427135678394, 0.6276381909547737, 0.6467336683417084, 0.6658291457286433, 0.6849246231155777, 0.7040201005025128, 0.7231155778894471, 0.7422110552763819, 0.7613065326633166, 0.7804020100502513, 0.7994974874371861, 0.8185929648241205, 0.8376884422110552, 0.8567839195979899, 0.8758793969849248, 0.8949748743718595, 0.9140703517587938, 0.9331658291457285, 0.9522613065326633, 0.9713567839195981, 0.9904522613065329, 0.9904522613065329, 0.9713567839195981, 0.9522613065326633, 0.9331658291457285, 0.9140703517587938, 0.8949748743718595, 0.8758793969849248, 0.8567839195979899, 0.8376884422110552, 0.8185929648241205, 0.7994974874371861, 0.7804020100502513, 0.7613065326633166, 0.7422110552763819, 0.7231155778894471, 0.7040201005025128, 0.684924623115578, 0.6658291457286433, 0.6467336683417084, 0.6276381909547737, 0.6085427135678394, 0.5894472361809047, 0.5703517587939699, 0.5512562814070352, 0.5321608040201005, 0.5130653266331656, 0.49396984924623133, 0.4748743718592966, 0.45577889447236175, 0.436683417085427, 0.4175879396984923, 0.398492462311558, 0.37939698492462315, 0.3603015075376884, 0.3412060301507537, 0.32211055276381895, 0.30301507537688455, 0.2839195979899498, 0.2648241206030151, 0.24572864321608034, 0.2266331658291456, 0.2075376884422112, 0.18844221105527648, 0.16934673366834174, 0.150251256281407, 0.13115577889447227, 0.11206030150753787, 0.09296482412060314, 0.0738693467336684, 0.05477386934673367, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05];
        const l2Values = [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.0595237494002675, 0.0971389611373451, 0.13398651549203322, 0.1700664124643313, 0.20537865205424155, 0.239923234261761, 0.2737001590868917, 0.3067094265296332, 0.3389510365899846, 0.3704249892679482, 0.401131284563521, 0.43106992247670506, 0.46024090300749987, 0.48864422615590475, 0.5162798919219216, 0.5431479003055477, 0.5692482513067851, 0.5945809449256333, 0.6191459811620915, 0.6429433600161615, 0.6659730814878411, 0.6882351455771318, 0.7097295522840332, 0.7304563016085449, 0.7504153935506681, 0.7696068281104012, 0.7880306052877453, 0.8056867250827, 0.822575187495265, 0.8386959925254415, 0.8540491401732279, 0.8686346304386252, 0.8824524633216333, 0.8955026388222518, 0.9077851569404815, 0.9193000176763212, 0.9300472210297719, 0.9400267670008333, 0.9492386555895054, 0.9576828867957881, 0.9653594606196813, 0.9722683770611853, 0.9784096361203, 0.9837832377970254, 0.9883891820913614, 0.9922274690033079, 0.9952980985328653, 0.9976010706800333, 0.999136385444812, 0.9999040428272014, 0.9999040428272014, 0.999136385444812, 0.9976010706800333, 0.9952980985328653, 0.9922274690033079, 0.9883891820913614, 0.9837832377970254, 0.9784096361203, 0.9722683770611853, 0.9653594606196813, 0.9576828867957881, 0.9492386555895054, 0.9400267670008333, 0.9300472210297719, 0.9193000176763212, 0.9077851569404815, 0.895502638822252, 0.8824524633216333, 0.8686346304386252, 0.8540491401732279, 0.8386959925254415, 0.8225751874952654, 0.8056867250827, 0.7880306052877453, 0.7696068281104012, 0.7504153935506677, 0.7304563016085455, 0.7097295522840332, 0.6882351455771318, 0.6659730814878411, 0.6429433600161609, 0.6191459811620921, 0.5945809449256333, 0.5692482513067851, 0.5431479003055477, 0.5162798919219209, 0.4886442261559054, 0.46024090300749987, 0.43106992247670506, 0.401131284563521, 0.37042498926794754, 0.3389510365899854, 0.3067094265296332, 0.2737001590868917, 0.239923234261761, 0.20537865205424077, 0.17006641246433207, 0.13398651549203322, 0.0971389611373451, 0.0595237494002675, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05];
        const laplaceValues = [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05075839060889598, 0.05390874235253822, 0.05725462267755614, 0.06080816718950923, 0.06458226469802222, 0.06859060396487275, 0.07284772335353083, 0.07736906356022648, 0.08217102361780566, 0.0872710203755015, 0.09268755167035322, 0.09844026341940249, 0.1045500208760064, 0.1110389843087207, 0.11793068937724077, 0.1252501324969247, 0.1330238615015231, 0.14128007193294484, 0.15004870930731104, 0.15936157772821644, 0.1692524552411387, 0.17975721634739808, 0.1909139621220179, 0.20276315840743606, 0.2153477825842975, 0.2287134794516646, 0.24290872678203906, 0.2579850111516541, 0.2739970146837897, 0.2910028133824305, 0.30906408777562305, 0.32824634663255553, 0.348619164565771, 0.370256434380318, 0.3932366350851132, 0.4176431165385904, 0.44356440176107603, 0.4710945080103614, 0.500333287785042, 0.531386790992443, 0.5643676495947263, 0.5993954861283065, 0.6365973475782765, 0.6761081661815314, 0.7180712488299289, 0.7626387968485654, 0.8099724580344271, 0.8602439129576597, 0.9136354976520101, 0.9703408649529389, 0.9703408649529389, 0.9136354976520101, 0.8602439129576597, 0.8099724580344271, 0.7626387968485654, 0.7180712488299289, 0.6761081661815314, 0.6365973475782765, 0.5993954861283065, 0.5643676495947263, 0.531386790992443, 0.500333287785042, 0.4710945080103614, 0.44356440176107603, 0.4176431165385904, 0.3932366350851132, 0.3702564343803185, 0.348619164565771, 0.32824634663255553, 0.30906408777562305, 0.2910028133824305, 0.27399701468379006, 0.2579850111516541, 0.24290872678203906, 0.2287134794516646, 0.2153477825842972, 0.2027631584074363, 0.1909139621220179, 0.17975721634739808, 0.1692524552411387, 0.1593615777282162, 0.15004870930731123, 0.14128007193294484, 0.1330238615015231, 0.1252501324969247, 0.1179306893772406, 0.11103898430872085, 0.1045500208760064, 0.09844026341940249, 0.09268755167035322, 0.08727102037550138, 0.08217102361780577, 0.07736906356022648, 0.07284772335353083, 0.06859060396487275, 0.06458226469802214, 0.060808167189509314, 0.05725462267755614, 0.05390874235253822, 0.05075839060889598, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05];
        const gaussianValues = [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.051524386485317084, 0.058013231758337315, 0.06516133583569773, 0.07301323439783995, 0.08161347789970538, 0.09100617732236371, 0.10123450147876191, 0.11234012787705257, 0.12436265020728227, 0.13733894663905918, 0.151302514280263, 0.16628277632782304, 0.18230436961600702, 0.19938642140814722, 0.2175418253546754, 0.236776527522924, 0.25708883426083645, 0.2784687543560261, 0.3008973884632914, 0.32434637906919517, 0.3487774343162471, 0.3741419388000243, 0.4003806639633273, 0.42742358993126905, 0.4551898495551773, 0.48358780406379875, 0.5125152580674079, 0.5418598197415063, 0.5714994098574981, 0.6013029209608741, 0.6311310254634351, 0.6608371287617558, 0.6902684607717691, 0.7192672965362946, 0.7476722938785656, 0.7753199335025026, 0.8020460445418128, 0.8276873963955126, 0.852083335814842, 0.8750774466780888, 0.8965192087517723, 0.9162656310269118, 0.9341828349665178, 0.950147563223461, 0.9640485900937653, 0.9757880111548959, 0.9852823911857115, 0.9924637515467961, 0.9972803806782556, 0.9996974541978649, 0.9996974541978649, 0.9972803806782556, 0.9924637515467961, 0.9852823911857115, 0.9757880111548959, 0.9640485900937653, 0.950147563223461, 0.9341828349665178, 0.9162656310269118, 0.8965192087517723, 0.8750774466780888, 0.852083335814842, 0.8276873963955126, 0.8020460445418128, 0.7753199335025026, 0.7476722938785656, 0.7192672965362952, 0.6902684607717691, 0.6608371287617558, 0.6311310254634351, 0.6013029209608741, 0.5714994098574987, 0.5418598197415063, 0.5125152580674079, 0.48358780406379875, 0.45518984955517666, 0.4274235899312697, 0.4003806639633273, 0.3741419388000243, 0.3487774343162471, 0.32434637906919456, 0.3008973884632919, 0.2784687543560261, 0.25708883426083645, 0.236776527522924, 0.21754182535467495, 0.19938642140814763, 0.18230436961600702, 0.16628277632782304, 0.151302514280263, 0.1373389466390589, 0.1243626502072826, 0.11234012787705257, 0.10123450147876191, 0.09100617732236371, 0.08161347789970516, 0.07301323439784012, 0.06516133583569773, 0.058013231758337315, 0.051524386485317084, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05];
        const gt = 3.0;
        const rMin = 0.05;

        // Overlay Plot
        const overlayTraces = [
            {
                x: predValues,
                y: l1Values,
                mode: 'lines',
                name: 'L1 (Linear)',
                line: { color: '#1f77b4', width: 2.5 }
            },
            {
                x: predValues,
                y: l2Values,
                mode: 'lines',
                name: 'L2 (Quadratic)',
                line: { color: '#ff7f0e', width: 2.5 }
            },
            {
                x: predValues,
                y: laplaceValues,
                mode: 'lines',
                name: 'Laplace',
                line: { color: '#2ca02c', width: 2.5 }
            },
            {
                x: predValues,
                y: gaussianValues,
                mode: 'lines',
                name: 'Gaussian',
                line: { color: '#d62728', width: 2.5 }
            }
        ];

        const overlayLayout = {
            title: 'Overlay Comparison of Reward Functions',
            xaxis: { 
                title: 'Prediction Value',
                range: [1.0, 5.0],
                gridcolor: '#e0e0e0'
            },
            yaxis: { 
                title: 'Reward',
                range: [0, 1.05],
                gridcolor: '#e0e0e0'
            },
            shapes: [
                {
                    type: 'line',
                    x0: gt,
                    y0: 0,
                    x1: gt,
                    y1: 1.05,
                    line: {
                        color: 'gray',
                        width: 2,
                        dash: 'dash'
                    }
                },
                {
                    type: 'line',
                    x0: 1.0,
                    y0: rMin,
                    x1: 5.0,
                    y1: rMin,
                    line: {
                        color: 'black',
                        width: 1,
                        dash: 'dot'
                    }
                }
            ],
            annotations: [
                {
                    x: gt,
                    y: 1.02,
                    text: 'GT=' + gt,
                    showarrow: false,
                    font: { color: 'gray' }
                },
                {
                    x: 4.8,
                    y: rMin + 0.05,
                    text: 'r_min=' + rMin,
                    showarrow: false,
                    font: { color: 'black', size: 10 }
                }
            ],
            hovermode: 'x unified',
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            font: { family: 'Arial' }
        };

        Plotly.newPlot('overlayPlot', overlayTraces, overlayLayout, {responsive: true});

        // Subplots
        const subplotTraces = [
            {
                x: predValues,
                y: l1Values,
                mode: 'lines',
                name: 'L1',
                line: { color: '#1f77b4', width: 2.5 },
                xaxis: 'x1',
                yaxis: 'y1'
            },
            {
                x: predValues,
                y: l2Values,
                mode: 'lines',
                name: 'L2',
                line: { color: '#ff7f0e', width: 2.5 },
                xaxis: 'x2',
                yaxis: 'y2'
            },
            {
                x: predValues,
                y: laplaceValues,
                mode: 'lines',
                name: 'Laplace',
                line: { color: '#2ca02c', width: 2.5 },
                xaxis: 'x3',
                yaxis: 'y3'
            },
            {
                x: predValues,
                y: gaussianValues,
                mode: 'lines',
                name: 'Gaussian',
                line: { color: '#d62728', width: 2.5 },
                xaxis: 'x4',
                yaxis: 'y4'
            }
        ];

        const subplotLayout = {
            title: 'Individual Reward Functions',
            grid: { rows: 2, columns: 2, pattern: 'independent' },
            annotations: [
                { text: 'L1 (Linear)', x: 0.225, y: 1, xref: 'paper', yref: 'paper', showarrow: false, font: { size: 14, color: '#1f77b4' } },
                { text: 'L2 (Quadratic)', x: 0.775, y: 1, xref: 'paper', yref: 'paper', showarrow: false, font: { size: 14, color: '#ff7f0e' } },
                { text: 'Laplace', x: 0.225, y: 0.45, xref: 'paper', yref: 'paper', showarrow: false, font: { size: 14, color: '#2ca02c' } },
                { text: 'Gaussian', x: 0.775, y: 0.45, xref: 'paper', yref: 'paper', showarrow: false, font: { size: 14, color: '#d62728' } }
            ],
            xaxis1: { title: 'Prediction', range: [1, 5], anchor: 'y1' },
            yaxis1: { title: 'Reward', range: [0, 1.05], anchor: 'x1' },
            xaxis2: { title: 'Prediction', range: [1, 5], anchor: 'y2' },
            yaxis2: { title: 'Reward', range: [0, 1.05], anchor: 'x2' },
            xaxis3: { title: 'Prediction', range: [1, 5], anchor: 'y3' },
            yaxis3: { title: 'Reward', range: [0, 1.05], anchor: 'x3' },
            xaxis4: { title: 'Prediction', range: [1, 5], anchor: 'y4' },
            yaxis4: { title: 'Reward', range: [0, 1.05], anchor: 'x4' },
            showlegend: false,
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            height: 700
        };

        Plotly.newPlot('subplots', subplotTraces, subplotLayout, {responsive: true});
    </script>
</body>
</html>
